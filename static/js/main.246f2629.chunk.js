(this.webpackJsonpbbc_openwhyd_test=this.webpackJsonpbbc_openwhyd_test||[]).push([[0],{33:function(e,n,t){e.exports=t(74)},38:function(e,n,t){},74:function(e,n,t){"use strict";t.r(n);var r=t(0),c=t.n(r),a=t(9),o=t.n(a),i=(t(38),t(2)),u=t(1);function l(){var e=Object(i.a)(["\n  width: 80vw;\n  max-width: 1200px;\n  margin: 1em auto 2em;\n  padding: 0.8rem 1rem 1.2rem;\n"]);return l=function(){return e},e}var s=Object(u.c)(l());function d(e){var n=e.children;return Object(u.d)("main",{css:s},n)}var f=t(5),m=t.n(f),b=t(10),p=t(6);function h(){var e=Object(i.a)(["\n  cursor: pointer;\n  text-align: center;\n  white-space: nowrap;\n  width: 100%;\n  vertical-align: middle;\n  user-select: none;\n  border: 1px solid transparent;\n  padding: 0.375rem 0.75rem;\n  margin: 0.6rem 0 0.4rem;\n  font-size: 1rem;\n  line-height: 1.5;\n  border-radius: 0.2rem;\n  display: inline-flex;\n  background: ",";\n  justify-content: center;\n  &:focus {\n    outline: 1px dotted;\n    outline: 5px auto -webkit-focus-ring-color;\n  }\n\n  &:disabled {\n    opacity: 0.8;\n    cursor: not-allowed;\n    pointer-events: all;\n  }\n"]);return h=function(){return e},e}var g=function(e){return Object(u.c)(h(),e.colors.grey)};function j(e){return Object(u.d)("button",Object.assign({css:g},e))}var v=t(4),O=t.n(v),y=(O.a.shape({name:O.a.string,eId:O.a.string,img:O.a.string}),t(25)),w=t.n(y);function k(){var e=Object(i.a)(["\n  height: 6rem;\n  margin-right: 1rem;\n  object-fit: contain;\n  @media screen and (max-width: 767px) {\n    width: 100%;\n    margin-bottom: 1.6rem;\n  }\n"]);return k=function(){return e},e}function x(){var e=Object(i.a)(["\n  display: flex;\n  flex: 1;\n  justify-content: center;\n"]);return x=function(){return e},e}function E(){var e=Object(i.a)(["\n  text-align: left;\n  flex: 1.5;\n"]);return E=function(){return e},e}function _(){var e=Object(i.a)(["\n  min-height: 6em;\n  display: flex;\n  flex-wrap: wrap;\n  @media screen and (max-width: 767px) {\n    flex-direction: column;\n    height: auto;\n  }\n"]);return _=function(){return e},e}function I(){var e=Object(i.a)(["\n  margin-top: 1rem;\n"]);return I=function(){return e},e}function S(){var e=Object(i.a)(["\n  border: solid 0.2rem ",";\n  margin: 0.8rem 0.4rem;\n  width: 28%;\n  padding: 1rem;\n  @media screen and (max-width: 1200px) {\n    width: 40%;\n  }\n  @media screen and (max-width: 767px) {\n    width: 100%;\n  }\n"]);return S=function(){return e},e}var z=function(e){return Object(u.c)(S(),e.colors.grey)},C=Object(u.c)(I()),N=Object(u.c)(_()),B=Object(u.c)(E()),G=Object(u.c)(x()),L=Object(u.c)(k());function R(e){var n=e.track,t=e.children,r=n.img,c=n.name;return Object(u.d)("div",{css:z},Object(u.d)("div",{css:N},Object(u.d)("div",{css:G},Object(u.d)(w.a,null,Object(u.d)("img",{css:L,alt:c,src:r}))),Object(u.d)("div",{css:B},Object(u.d)("span",{css:C},c)),t))}function T(){var e=Object(i.a)(["\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-between;\n"]);return T=function(){return e},e}var A=Object(u.c)(T());function D(e){var n=e.tracks,t=e.playThis;return n&&0!==n.length?Object(u.d)("div",{"data-testid":"tracklist",css:A},n.map((function(e){return Object(u.d)(R,{key:e._id,track:e},Object(u.d)(j,{"data-testid":"trackbutton-".concat(e._id),onClick:function(n){return t(n,e)}},"Play this"))}))):Object(u.d)("p",null,"No tracks, sorry")}function q(){var e=Object(i.a)(["\n     {\n      display: block;\n      height: 2.6rem;\n      padding: 0.375rem 0.75rem;\n      font-size: 0.8rem;\n      font-weight: 700;\n      color: ",";\n      background-color: ",";\n      background-image: none;\n      border: 0.1rem solid ",";\n      border-radius: 0.2rem;\n    }\n\n    &:focus {\n      border-color: orange;\n      outline: none;\n    }\n  "]);return q=function(){return e},e}var F=function(e){return Object(u.c)(q(),e.colors.black,e.colors.white,e.colors.grey)};function J(e){var n=e.options;return Object(u.d)("select",Object.assign({css:F},e),n.map((function(e,n){return Object(u.d)("option",{key:n,value:e},e)})))}var M=t(26),P=t.n(M);function U(){var e=Object(i.a)(["\n  flex: 1.5;\n"]);return U=function(){return e},e}function W(){var e=Object(i.a)(["\n  flex: 1;\n  display: block;\n  font-size: 1.2rem;\n  font-weight: bold;\n"]);return W=function(){return e},e}function H(){var e=Object(i.a)(["\n  position: sticky;\n  top: 0px;\n  padding: 1rem;\n  background: ",";\n  border: solid 0.2rem ",";\n  display: flex;\n  align-items: center;\n  &:before,\n  &:after {\n    content: '';\n    display: table;\n  }\n"]);return H=function(){return e},e}var $=document.querySelectorAll(".sticky");P.a.add($);var K=["all","electro","hip hop","indie","folk","rock","punk","metal","blues","r&b","soul","jazz","classical","reggae","pop","latin","world"],Q=function(e){return Object(u.c)(H(),e.colors.white,e.colors.grey)},V=Object(u.c)(W()),X=Object(u.c)(U());function Y(e){var n=e.selectGenre;return Object(u.d)("nav",{className:"sticky",css:Q},Object(u.d)("label",{"data-testid":"label-select",css:V,htmlFor:"searchByGenre"},"Select a genre"),Object(u.d)(J,{"data-testid":"select",css:X,id:"searchByGenre",placeholder:"Select a genre",title:"Select a Genre",onChange:function(e){return n(e)},options:K}))}function Z(){var e=Object(i.a)(["\n  z-index: 999;\n  position: fixed;\n  top: 0px;\n  left: 0px;\n  right: 0px;\n  bottom: 0px;\n  background-color: rgba(255, 255, 255, 0.85);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]);return Z=function(){return e},e}var ee=Object(u.c)(Z());function ne(e){var n=e.isLoading,t=e.message;return n?Object(u.d)("div",{"data-testid":"overlay",role:"alert",css:ee},Object(u.d)("h3",null,t)):null}function te(){var e=Object(i.a)(["\n  width: 80vw;\n  height: calc((60vw / 16) * 9);\n"]);return te=function(){return e},e}var re=Object(u.c)(te()),ce={yt:function(e){return oe(e)},sc:function(e){return ie(e)},bc:function(e){return"Not Implemented"},vi:function(e){return"Not Implemented"},dz:function(e){return"Not Implemented"},fi:function(e){return"Not Implemented"}},ae=function(e,n,t){return function(e,n){for(var t=Object.keys(e).find((function(e){return e.includes(n)})),r=arguments.length,c=new Array(r>2?r-2:0),a=2;a<r;a++)c[a-2]=arguments[a];return t?e[t].apply(e,c):null}(e,n,t)},oe=function(e){var n=e[2];return"https://www.youtube.com/embed/".concat(encodeURIComponent(n),"?autoplay=1")},ie=function(e){var n=e[7];return"https://w.soundcloud.com/player/?url=https://api.soundcloud.com/tracks/".concat(n,"&auto_play=true&hide_related=false&show_comments=true&show_user=true&show_reposts=false&show_teaser=true&visual=true")};function ue(e){var n=e.track,t=n.eId,r=n.name,c=t.split("/"),a=c[1],o=ae(ce,a,c);return Object(u.d)("iframe",{title:r,"data-testid":"iframe",css:re,src:o,frameBorder:"0",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})}var le=t(11),se=t.n(le),de=t(27),fe=t.n(de),me={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",zIndex:2,transform:"translate(-50%, -50%)",display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"}};se.a.setAppElement("#root");var be=function(){var e=Object(r.useState)({loading:!1,tracks:[]}),n=Object(p.a)(e,2),t=n[0],a=n[1],o=Object(r.useState)(null),i=Object(p.a)(o,2),u=i[0],l=i[1],s=Object(r.useState)(null),d=Object(p.a)(s,2),f=d[0],h=d[1],g=Object(r.useState)(!1),v=Object(p.a)(g,2),O=v[0],y=v[1];function w(){y(!1)}Object(r.useEffect)((function(){k()}),[a]);var k=function(){var e=Object(b.a)(m.a.mark((function e(n){var t,r,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a({loading:!0}),t=n?"/react_openwhyd_demo/hot/".concat(encodeURI(n),"?format=json"):"/react_openwhyd_demo/hot/?format=json",e.prev=2,e.next=5,fe.a.get(t);case 5:r=e.sent,c=r.data.tracks,a({loading:!1,tracks:c}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(n){return e.apply(this,arguments)}}(),x=function(){var e=Object(b.a)(m.a.mark((function e(n,t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),h(n.target.value),e.next=4,k(n.target.value);case 4:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}();return c.a.createElement("article",null,c.a.createElement(ne,{isLoading:t.loading,message:"Loading ".concat(f," tracks...")}),c.a.createElement(Y,{selectGenre:x}),c.a.createElement("header",null,c.a.createElement("h2",null,"Top 20 ",f," tracks")),c.a.createElement(D,{tracks:t.tracks,playThis:function(e,n){e.preventDefault(),y(!0),l(n)}}),c.a.createElement(se.a,{isOpen:O,onRequestClose:w,style:me,contentLabel:"Example Modal"},c.a.createElement(ue,{track:u}),c.a.createElement(j,{full:"true",onClick:function(){return w()}},"close player")))},pe=t(28),he=t.n(pe),ge=t(29),je={colors:{primary:"green",grey:"#c3cfd9",balck:"#222",white:"#fefefe"}};function ve(){var e=Object(i.a)(["\n          ","\n          body {\n            background-color: ",";\n            color: ",";\n          }\n        "]);return ve=function(){return e},e}var Oe=function(){return c.a.createElement(ge.a,{theme:je},c.a.createElement(u.a,{styles:Object(u.c)(ve(),he.a,je.colors.white,je.colors.black)}),c.a.createElement(d,null,c.a.createElement("header",null,c.a.createElement("h1",null,"Hot Tracks Player")),c.a.createElement(be,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(Oe,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[33,1,2]]]);
//# sourceMappingURL=main.246f2629.chunk.js.map